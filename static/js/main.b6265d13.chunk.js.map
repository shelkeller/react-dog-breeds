{"version":3,"sources":["components/GridEntry.js","components/PuppyGrid.js","api.js","App.js","index.js"],"names":["GridEntry","props","puppy","backgroundStyle","backgroundImage","image","backgroundSize","position","firstLetterUc","string","length","toUpperCase","slice","filtered","className","style","bottom","left","firstName","lastName","PuppyGrid","puppies","sort","a","b","aName","bName","map","index","apiGetRandomImage","breed","subBreed","innerPart","url","axios","get","App","useState","setPuppies","filter","setFilter","useEffect","then","rsp","pushPuppies","Object","entries","data","message","forEach","entry","imageRsp","push","subPup","subIndex","top","fontSize","float","onChange","e","target","value","lowerCaseFilter","toLowerCase","newPuppies","includes","type","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.b6265d13.chunk.js","sourcesContent":["const GridEntry = (props) => {\r\n  let { puppy } = props;\r\n\r\n  \r\n  let backgroundStyle = { \r\n    backgroundImage: \"url(\" + puppy.image + \")\", \r\n    backgroundSize: 'cover', \r\n    position: 'relative'\r\n   };\r\n  \r\n  let labelStyle = {\r\n    position: \"absolute\", \r\n    bottom: \"5px\", \r\n    left: \"5px\"\r\n  } \r\n\r\n  let firstLetterUc = (string) => {\r\n    if (string.length) return string[0].toUpperCase() + string.slice(1);\r\n    return '';\r\n  }\r\n\r\n  return (\r\n    <>\r\n    { \r\n    !puppy.filtered && \r\n        <div className=\"grid-entry\" style={backgroundStyle}>\r\n        <span className=\"entry-label\" style={labelStyle}>{firstLetterUc(puppy.firstName)} {firstLetterUc(puppy.lastName)}</span>\r\n        </div>\r\n    }\r\n  </>\r\n    \r\n  );\r\n};\r\n\r\nexport default GridEntry;\r\n","import GridEntry from \"./GridEntry\";\r\nimport { BiBone } from \"react-icons/bi\";\r\n\r\nconst PuppyGrid = (props) => {\r\n  let { puppies } = props;\r\n  // Our state is not sorted by default, as it is populated by a chain of promises. \r\n  \r\n  function compareDogNames( a, b ) {\r\n    let aName = a.firstName+a.lastName;\r\n    let bName = b.firstName+b.lastName;\r\n\r\n    if ( aName < bName ){\r\n      return -1;\r\n    }\r\n    if ( aName > bName ){\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n  \r\n  puppies.sort(compareDogNames);\r\n\r\n  return (\r\n    <>\r\n    <div className=\"grid\">\r\n      {!!puppies.length && puppies.map((puppy, index) => (\r\n        <GridEntry key={'puppy'+ index} puppy={puppy} />\r\n      ))}\r\n    </div>\r\n    {!puppies.length && <div className=\"loading\">\r\n      <div><BiBone className=\"spinny\" /></div>Fetching puppies...</div>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PuppyGrid;\r\n","import axios from \"axios\";\r\n\r\nexport const apiGetAllDogBreeds = () => {\r\n  return axios.get(\"https://dog.ceo/api/breeds/list/all\");\r\n};\r\n\r\n// hound, basset\r\nexport const apiGetRandomImage = (breed, subBreed) => {\r\n  let innerPart = breed;\r\n  if (!!subBreed) innerPart += \"/\" + subBreed;\r\n  let url = \"https://dog.ceo/api/breed/\" + innerPart + \"/images/random\";\r\n  return axios.get(url);\r\n};\r\n","import \"./styles.css\";\nimport * as React from \"react\";\nimport PuppyGrid from \"./components/PuppyGrid\";\nimport {IoPawSharp} from \"react-icons/io5\"\nimport { useEffect, useState } from \"react\";\nimport { apiGetAllDogBreeds, apiGetRandomImage } from \"./api\";\n\nexport default function App() {\n  let [puppies, setPuppies] = useState([]);\n  // state structure will be [ { firstName:string, lastName:string, image:string, filtered:boolean }]\n  let [filter, setFilter] = useState('');\n\n  useEffect(() => {\n    apiGetAllDogBreeds().then((rsp) => {\n      let pushPuppies = [];\n      let length = Object.entries(rsp.data.message).length;\n      // Use Object.entries to extrapolate this JSON object out into a 2D array of strings.\n      Object.entries(rsp.data.message).forEach((entry, index) => {\n        // Two kinds of dogs in this list: dogs with one name, and dogs with two names. \n        // If we were expecting dogs with three or more names, I would find all the names with a depth-first search.\n\n        // Dogs with one name:\n        if (entry[1].length === 0) {\n          apiGetRandomImage(entry[0]).then((imageRsp) => {\n            pushPuppies.push({\n              firstName: \"\",\n              lastName: entry[0],\n              image: imageRsp.data.message\n            });\n            if (index === length - 1) {\n              // We've reached the end and gotten all of our images.\n              // Time to update the state and thus the DOM.\n              setPuppies(pushPuppies);\n            }\n          });\n        }\n        // Dogs with two names:\n        if (entry[1].length > 0) {\n          entry[1].forEach((subPup, subIndex) => {\n            apiGetRandomImage(entry[0], subPup).then((imageRsp) => {\n              pushPuppies.push({\n                firstName: subPup,\n                lastName: entry[0],\n                image: imageRsp.data.message\n              });\n              if (index === length - 1 && subIndex === entry[1].length - 1) {\n                // If our last entry happens to have children, we make sure we reach the\n                // end of those children.\n                setPuppies(pushPuppies);\n              }\n            });\n          });\n        }\n      });\n    });\n  }, []);\n\n  // Filter input handler: \n  const handleChange = e => {\n   setFilter(e.target.value);\n   // make sure search is case insensitive: \n   let lowerCaseFilter = e.target.value.toLowerCase();\n   let newPuppies = puppies.map(puppy => {\n      puppy.filtered = !puppy.firstName.includes(lowerCaseFilter) && !puppy.lastName.includes(lowerCaseFilter);\n      return puppy;\n   });\n   setPuppies(newPuppies);\n  }\n\n\n  return (\n    <main>\n      <header>\n        <h1>\n          It's Puppy Time \n          <IoPawSharp style={{position: \"relative\", top:\"5px\"}} />\n          <span style={{fontSize: '15px', float: \"right\", position: \"relative\", top: \"5px\"}}>\n            All dogs are puppies.\n          </span>\n          <input\n            onChange={handleChange}\n            type=\"text\"\n            value={filter} \n          /> \n        </h1>\n        </header>\n        <PuppyGrid puppies={puppies}/>\n    </main>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}